\input{slheader}
\title{Python IV}
\begin{document}
\frame{\maketitle}

\section{Exceptions}

\begin{frame}[fragile]
\frametitle{Exceptions}

\begin{block}{Exceptions}
Report errors for higher up.
\end{block}

\end{frame}

\begin{frame}[fragile]
\frametitle{Call Stack}
\begin{python}
def f(x):
    return log(x)**2

def g(x):
    y = f(x)
    return y+1

def h(x):
    return g(x+1) + g(4*x)

print h(0)
\end{python}
\end{frame}

\begin{frame}[fragile]
\frametitle{Exceptions}

\begin{python}
def log(x):
    if x <= 0.:
        raise ValueError(
            'log: argument must be greater than zero')
    ...
\end{python}
\end{frame}

\begin{frame}[fragile]
\frametitle{Try-Except}

\begin{python}
try:
    h(0)
except:
    print 'Ooops'
\end{python}
\end{frame}

\begin{frame}[fragile]
\frametitle{Try-Except}

\begin{python}
try:
    <line 1>
    <line 2>
    <line 3>
except:
    <line 1>
    <line 2>
\end{python}
\end{frame}

\begin{frame}[fragile]

\begin{python}
def f(x):
    if x <= 0.:
        raise ValueError(
            'f: argument must be greater than zero')
    return sqrt(x)+2

def g(x):
    y = f(x)
    print (y > 2) 

try:
    g(1)
    g(-1)
except:
    print 'Exception'
\end{python}

This outputs:

\begin{columns}
\column{.25\textwidth}
(a)\par
True\\True
\column{.25\textwidth}
(b)\par
True\\False
\column{.25\textwidth}
(c)\par
False\\Exception
\column{.25\textwidth}
(d)\par
True\\Exception
\end{columns}

\end{frame}

\begin{frame}[fragile]
\frametitle{Standard Library Miscellanea}
Random numbers
\begin{itemize}
\item Truly random numbers
\item Pseudo random numbers
\end{itemize}
\end{frame}

\begin{frame}[fragile]
\frametitle{Pseudo Random Numbers}

\[
x_{i+1} = 48271 x_i \mod (2^{31}-1)
\]

\centering
\includegraphics[width=.7\textwidth]{prnwalk}

\end{frame}

\begin{frame}[fragile]
\frametitle{Pseudo Random Numbers}
\begin{itemize}
\item Are not random
\item Some are ``more random'' than others
\end{itemize}
\pause

\begin{itemize}
\item For testing/reproducibility, you want \alert{pseudo-}random numbers.
\item For cryptography, you want really random numbers.
\end{itemize}
\end{frame}

\begin{frame}[fragile]
\frametitle{Testing with random numbers}

\begin{python}
import random
random.seed(32)
for i in xrange(16):
    qs = [random.randint(0,40) for j in xrange(100)]
    s,e = trim(qs, 20)
    assert s <= e
    assert np.all(qs[s:e] > 20)
\end{python}
\end{frame}

\begin{frame}[fragile]
\frametitle{Other Random Things}
\begin{itemize}
\item Random floating point numbers
\item Random normally distributed values
\item Shuffle arrays
\item \ldots
\end{itemize}
\end{frame}

\begin{frame}[fragile]
\frametitle{Random on a circle}

\centering
\includegraphics[width=.7\textwidth]{circle}

\end{frame}

\begin{frame}[fragile]
\frametitle{More randomness}

\begin{itemize}
\item Check out \lstinline{numpy.random}
\item Check out \lstinline{scipy.stats}
\end{itemize}
\end{frame}

\begin{frame}[fragile]
\frametitle{Pickle}

\begin{python}
import pickle

something = [12, 'hello']

pickle.dump(something, open('myfile.pkl', 'w'))
\end{python}

Later

\begin{python}
import pickle

other = pickle.load(open('myfile.pkl'))
\end{python}
\end{frame}

\begin{frame}[fragile]
\frametitle{Break}

Two minute break before we change the subject
\begin{itemize}
\item Talk to your neighbours
\item Breath
\item Ask questions
\end{itemize}
\end{frame}

\begin{frame}[fragile]
\frametitle{Review}

Review of course material
\end{frame}

\begin{frame}[fragile]
\frametitle{Review}

\begin{block}{Course Content: Python}
\begin{itemize}
\item Basic types: int, float, list, dict, set
\item Control flow: \lstinline{for}, \lstinline{while}, \lstinline{if}, \lstinline{elif}, \lstinline{else}\ldots
\item Defining types: \lstinline{class}, \lstinline{_ _init_ _},\ldots
\item Errors (Exceptions): \lstinline{try}, \lstinline{except}, \lstinline{raise},\ldots
\item Modules \& Standard Library: \lstinline{import}
\end{itemize}
\end{block}

\end{frame}

\begin{frame}[fragile]
\frametitle{Course Content: Numeric Representations}
\begin{block}{Memory \& Numeric Representations}
\begin{itemize}
\item It's bits all the way down
\item Binary representation of signed \& unsigned integers
\item Floating point numbers
\item When handling a lot of data, think of memory usage
\end{itemize}
\end{block}
\end{frame}

\begin{frame}[fragile]
\frametitle{Course Content: Parsing files}

\begin{block}{Parsing files}
\begin{itemize}
\item Files are just Bytes (sequence of small numbers)
\item It is all in how you interpret them
\item There are standard character assignments for text files
\item ASCII (English only), Latin-15 (used in Portugal), UTF-8 (usable for everything).
\end{itemize}
\end{block}
\end{frame}


\begin{frame}[fragile]
\frametitle{Course Content: Open Source}
\begin{block}{Open Source}
\begin{itemize}
\item Free as in beer, free as in speech (gratis/freedom distinction)
\item Copyleft vs.\ liberal licenses
\item It is not about price
\end{itemize}
\end{block}
\end{frame}

\begin{frame}[fragile]
\frametitle{Course Content: Testing}
\begin{block}{Testing}
\begin{itemize}
\item Testing is good and you should do it
\end{itemize}
\end{block}
\end{frame}

\begin{frame}[fragile]
\frametitle{What Was Not in The Course}
\begin{block}{Missing}
\begin{itemize}
\item Some more advanced programming details
\item Version Control
\item Unix \& Shell \& Interacting with Other Programmes
\item More specific tools
\end{itemize}
\end{block}

\end{frame}


\end{document}
